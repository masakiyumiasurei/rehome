@using System.Security.Claims;
@{
    ViewData["Title"] = "仕入帳一覧";
}
@model PayIndexModel

<div>
    <p>@ViewBag.OperationMessage</p>
</div>

<div class="text-center">
    <h2>仕入帳一覧</h2>
    <button type="button" class="custom-btn btn-1" onclick="SwitchSearch();" id="SwitchButton">検索条件▼</button>


    <div id="Search-Area" name="hide" style="display: none;">
        <br>
        @using (Html.BeginForm("Search", "Pay", FormMethod.Get, new { @class = "row g-3" }))
        {
            @await Html.PartialAsync("_PaySearch")
        }
    </div>
</div>
@if (User.Claims.FirstOrDefault(c => c.Type == ClaimTypes.System).Value == "True")
{
    <div style="text-align:right">
        <a href="@Url.Action("Create", "Pay")" class="custom-btn btn-1"><i class="fa fa-plus-square" aria-hidden="true"></i> 新規</a>
    </div>
    <br>
}


<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <table class="table table-striped table-hover table-sm ">
        <thead>
            <tr>
                <th class="column5">詳細</th>
                <th>仕入先名</th>
                <th>支払日</th>
                <th>金額</th>
                <th>消費税</th>
                <th>交通費</th>
                <th>値引等</th>
                <th>相手負担</th>
                <th>当社負担</th>
            </tr>
        </thead>

        @if (Model.Pays != null)
        {
            @foreach (var item in Model.Pays)
            {
                <tr>
                    <td>
                        <div class="text-center">
                            <a href="@Url.Action("Create", "Pay", new { 仕入ID = @item.仕入ID })"  class="custom-btn btn-size-min btn-1">
                                <i class="fa fa-info-circle" aria-hidden="true"></i></a>
                        </div>
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.仕入先名)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.日付)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.金額)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.消費税)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.交通費)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.値引等)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.相手負担)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.当社負担)
                    </td>

                </tr>
            }
        }    
        </table>        
</div>




@section Scripts{

}