@using System.Security.Claims;
@{
    ViewData["Title"] = "仕入先一覧";
}
@model SiireIndexModel

<div>
    <p>@ViewBag.OperationMessage</p>
</div>

<div class="text-center">
    <h2>仕入先一覧</h2>
    <button type="button" class="custom-btn btn-1" onclick="SwitchSearch();" id="SwitchButton">検索条件▼</button>


    <div id="Search-Area" name="hide" style="display: none;">
        <br>
        @using (Html.BeginForm("Search", "Siire", FormMethod.Get, new { @class = "row g-3" }))
        {
            @await Html.PartialAsync("_SiireSearch")
        }
    </div>
</div>
@if (User.Claims.FirstOrDefault(c => c.Type == ClaimTypes.System).Value == "True")
{
    <div style="text-align:right">
        <a href="@Url.Action("New", "Siire")" class="custom-btn btn-1"><i class="fa fa-plus-square" aria-hidden="true"></i> 新規</a>
    </div>
    <br>
}


<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <table class="table table-striped table-hover table-sm ">
        <thead>
            <tr>
                <th class="column5">詳細</th>
                <th>仕入先名</th>
                <th>郵便番号</th>
                <th>住所</th>
                <th>肩書</th>
                <th>TEL</th>
                <th>FAX</th>
                
            </tr>
        </thead>

        @foreach (var item in Model.Siire)
        {
            <tr>
                <td>
                    <div class="text-center">
                        <a href="@Url.Action("Details", "Siire", new { 仕入先ID = @item.仕入先ID })" )" class="custom-btn btn-1"><i class="fa fa-info-circle" aria-hidden="true"></i></a>
                    </div>
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.仕入先名)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.郵便番号)
                </td>
                
                <td>
                    <a href="https://www.google.co.jp/maps?hl=ja&tab=wl&q=+@item.住所" 
                    target="_blank" rel="noopener noreferrer">@item.住所</a>
                </td>

                 <td>
                    @Html.DisplayFor(modelItem => item.肩書)
                </td>

                <td>
                    <a href="tel:@item.TEL"> @item.TEL</a>
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.FAX)
                </td>                

            </tr>
        }
        </table>  

</div>




@section Scripts{

}