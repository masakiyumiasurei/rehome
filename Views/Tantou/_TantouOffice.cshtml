@using rehome.Enums;
@using rehome.Models.DB;
@using System.Security.Claims;
@model TantouDetailModel


@if (User.Claims.FirstOrDefault(c => c.Type == ClaimTypes.System).Value == "True")
{
    <div class="row">

            <div class="col-4 col-sm-5">
                <label>営業所</label>
                @Html.DropDownListFor(m => m.担当営業所ID新規,new SelectList(Model.営業所DropDownList, "Value", "Display"),  "",  new { @class ="form-control",@id="TantouOffice"} )
            </div>
            <div class="col-3 col-sm-2">
                <br>
                <input type="button" onclick="addTantou();"  value="追加" class="custom-btn btn-2" />
            </div>
        </div>
}
           
    <br>
     <div class="table-responsive class col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <table class="table table-striped table-hover table-sm " id="TantouTable">
                <thead>
                    <tr>
                        <th>営業所名</th>
                    </tr>
                </thead>

                <tbody id="TantouOffices">
                
                 @if (Model.担当営業所リスト != null)
                {
                    @for (var idx= 0;idx< Model.担当営業所リスト.Count();idx++)
                    {

                        <tr id="担当営業所[@idx]">
                            @Html.HiddenFor(m => m.担当営業所リスト[idx].担当ID)
                            @Html.HiddenFor(m => m.担当営業所リスト[idx].営業所ID,new{@id="担当営業所ID"})
 
                            <td class="col-4 col-sm-5">
                                @Html.DisplayFor(m => m.担当営業所リスト[idx].営業所名)
                            </td>

                        @if(User.Claims.FirstOrDefault(c => c.Type == ClaimTypes.System).Value == "True")
                        {
                            <td class="col-3 col-sm-2">
                                <input type="button" value="削除" onclick="delTantou(@idx);" class="custom-btn btn-2 btn-sm" />
                            </td>
                        }

                        </tr>
                    }
                }
                </tbody>
                </table>
            </div>
